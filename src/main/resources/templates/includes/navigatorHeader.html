<div class="mainMenu" th:fragment="navigatorHeader(pageTitle)">
    <div class="menu flex space-x-4 bg-gray-200 p-2">
        <a th:href="@{/}" class="item"><i class="home icon"></i> Home </a>
        <a class="browse item">Browse <i class="dropdown icon"></i></a>
        <div class="popup absolute bg-white border p-4 hidden">
            <div class="grid grid-cols-4 gap-4">
                <div class="column" th:each="entry : ${navigationMenu}">
                    <h4 class="font-bold" th:text="${entry.key}"></h4>
                    <div class="flex flex-col space-y-1">
                        <a class="item" th:each="item : ${entry.value}" th:href="@{${item.path}}" th:text="${item.label}"></a>
                    </div>
                </div>
            </div>
        </div>
        <a class="item"><i class="cart icon"></i> Checkout </a>
        <a class="right item"><i class="sign in icon"></i> Sign in </a>
    </div>
</div>
<div class="flex space-x-2 text-gray-600 my-2">
    <div class="item">
        <a th:href="@{/}">Home</a>&nbsp;>&nbsp;<a id="btitle" th:text="${pageTitle}" href="#"></a>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const browse = document.querySelector('.mainMenu .menu .browse');
    const popup = document.querySelector('.popup');
    let hideTimeout;
    const showPopup = () => {
        clearTimeout(hideTimeout);
        popup.classList.add('block');
        popup.classList.remove('hidden');
    };
    const hidePopup = () => {
        hideTimeout = setTimeout(() => {
            popup.classList.remove('block');
            popup.classList.add('hidden');
        }, 800);
    };
    browse.addEventListener('mouseenter', showPopup);
    browse.addEventListener('mouseleave', hidePopup);
    popup.addEventListener('mouseenter', showPopup);
    popup.addEventListener('mouseleave', hidePopup);
});
</script>
